{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/recreate/recreate_on_react/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var prismaGlobal: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma =\r\n  global.prismaGlobal ||\r\n  new PrismaClient({\r\n    log: process.env.NODE_ENV === \"development\" ? [\"query\", \"error\", \"warn\"] : [\"error\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") global.prismaGlobal = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAOO,MAAM,SACX,OAAO,YAAY,IACnB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAC7E;AAEF,wCAA2C,OAAO,YAAY,GAAG","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/recreate/recreate_on_react/src/app/api/products/favorites/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\nexport const runtime = \"nodejs\";\r\n\r\nconst toMoney = (c: number | null | undefined) =>\r\n  c == null ? null : (c / 100).toFixed(2);\r\n\r\nexport async function GET() {\r\n  try {\r\n    const favoriteNames = [\r\n      \"Ice cappuccino\",\r\n      \"Coffee with cognac\",\r\n      \"Irish coffee\",\r\n    ];\r\n\r\n    const rows = await prisma.product.findMany({\r\n      where: { name: { in: favoriteNames } },\r\n    });\r\n\r\n    // порядок как в макете\r\n    const ordered = favoriteNames\r\n      .map((name) => rows.find((r) => r.name === name))\r\n      .filter(Boolean)\r\n      .map((r) => ({\r\n        id: r!.id,\r\n        name: r!.name,\r\n        description: r!.description,\r\n        category: r!.category,\r\n        price: toMoney(r!.priceCents)!,                 // ← строка \"6.50\"\r\n        discountPrice: toMoney(r!.discountPriceCents),  // ← строка или null\r\n      }));\r\n\r\n    return NextResponse.json({ data: ordered, message: \"\", error: \"\" });\r\n  } catch (e: any) {\r\n    return NextResponse.json(\r\n      { data: [], message: \"\", error: e?.message || \"Server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEvB,MAAM,UAAU,CAAC,IACf,KAAK,OAAO,OAAO,CAAC,IAAI,GAAG,EAAE,OAAO,CAAC;AAEhC,eAAe;IACpB,IAAI;QACF,MAAM,gBAAgB;YACpB;YACA;YACA;SACD;QAED,MAAM,OAAO,MAAM,gIAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;YACzC,OAAO;gBAAE,MAAM;oBAAE,IAAI;gBAAc;YAAE;QACvC;QAEA,uBAAuB;QACvB,MAAM,UAAU,cACb,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,OAC1C,MAAM,CAAC,SACP,GAAG,CAAC,CAAC,IAAM,CAAC;gBACX,IAAI,EAAG,EAAE;gBACT,MAAM,EAAG,IAAI;gBACb,aAAa,EAAG,WAAW;gBAC3B,UAAU,EAAG,QAAQ;gBACrB,OAAO,QAAQ,EAAG,UAAU;gBAC5B,eAAe,QAAQ,EAAG,kBAAkB;YAC9C,CAAC;QAEH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,MAAM;YAAS,SAAS;YAAI,OAAO;QAAG;IACnE,EAAE,OAAO,GAAQ;QACf,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,MAAM,EAAE;YAAE,SAAS;YAAI,OAAO,GAAG,WAAW;QAAe,GAC7D;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}